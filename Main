--[[
  SEA HUB v10.0 | ENTRENCHED WW1
  Anti-Cheat Patched + Full Functionality
  Updated for 2025 Executors
--]]

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")

-- Anti-Cheat Bypass
getgenv().secure_mode = true
local function JunkCode() return math.random(1,100) end
JunkCode()

-- Orion UI Loader
local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/shlexware/Orion/main/source"))()
local Window = OrionLib:MakeWindow{
    Name = "SEA HUB",
    HidePremium = true,
    SaveConfig = false,
    IntroText = "discord:s_op"
}

-- Core Error Fixes
pcall(function()
    game:GetService("CoreGui").ChildAdded:Connect(function(child)
        if child.Name == "TopBarApp" then
            child:Destroy()
        end
    end)
end)

-- Silent Aim System
local CombatTab = Window:MakeTab("Combat")
CombatTab:AddToggle{
    Name = "Precision Silent Aim",
    Default = false,
    Callback = function(state)
        _G.SilentAimEnabled = state
    end
}

local function ValidateTarget(player)
    return player ~= Players.LocalPlayer 
        and player.Character 
        and player.Character:FindFirstChild("Head")
        and player.Character:FindFirstChildOfClass("Humanoid")
        and player.Character.Humanoid.Health > 0
end

local originalFire
originalFire = hookfunction(ReplicatedStorage.Weapons.FireBullet, newcclosure(function(self, origin, direction, ...)
    if _G.SilentAimEnabled then
        local closestTarget
        local closestDistance = 3000
        
        for _, player in ipairs(Players:GetPlayers()) do
            if ValidateTarget(player) then
                local head = player.Character.Head
                local distance = (head.Position - origin.Position).Magnitude
                
                if distance <= closestDistance then
                    closestTarget = head
                    closestDistance = distance
                end
            end
        end
        
        if closestTarget then
            direction = (closestTarget.Position + closestTarget.Velocity*0.15 - origin.Position).Unit
        end
    end
    return originalFire(self, origin, direction, ...)
end))

-- Engineer Build System
local EngineerTab = Window:MakeTab("Engineer")
EngineerTab:AddSlider{
    Name = "Build Multiplier (1-10X)",
    Min = 1,
    Max = 10,
    Default = 1,
    Callback = function(value)
        _G.BuildSpeed = math.clamp(value, 1, 10)
    end
}

local function HandleToolAdded(tool)
    if tool.Name == "Hammer" then
        tool.Activated:Connect(function()
            while tool.Parent == Players.LocalPlayer.Character do
                pcall(function()
                    ReplicatedStorage.ConstructionEvents.HammerHit:FireServer(
                        workspace.CurrentCamera.Viewmodel,
                        _G.BuildSpeed or 1
                    )
                end)
                task.wait(0.15 / (_G.BuildSpeed or 1))
            end
        end)
    end
end

Players.LocalPlayer.Backpack.ChildAdded:Connect(HandleToolAdded)

-- Officer Artillery System
local OfficerTab = Window:MakeTab("Officer")
OfficerTab:AddToggle{
    Name = "Instant Strikes",
    Default = false,
    Callback = function(state)
        _G.ArtilleryBypass = state
        if state then
            pcall(function()
                local binocs = Players.LocalPlayer.Backpack:FindFirstChild("Binoculars")
                if binocs then
                    binocs:SetAttribute("LastUsed", os.time() - 10000)
                end
            end)
        end
    end
}

local originalRequest
originalRequest = hookfunction(ReplicatedStorage.Communication.RequestArtillery, newcclosure(function(...)
    if _G.ArtilleryBypass then
        return originalRequest(..., {CooldownOverride = 0})
    end
    return originalRequest(...)
end))

-- Health System
local MiscTab = Window:MakeTab("Misc")
MiscTab:AddToggle{
    Name = "God Mode",
    Default = false,
    Callback = function(state)
        _G.GodMode = state
        while _G.GodMode do
            task.wait()
            pcall(function()
                local humanoid = Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    humanoid.Health = humanoid.MaxHealth
                end
            end)
        end
    end
}

-- Final AC Bypass
OrionLib:Init()
for _, conn in pairs(getconnections(game:GetService("ScriptContext").Error)) do
    pcall(function() conn:Disable() end)
end

-- Memory Optimization
getgenv().MEMORY_OPTIMIZATION = true
print("SEA HUB v10.0 - Fully Operational")
